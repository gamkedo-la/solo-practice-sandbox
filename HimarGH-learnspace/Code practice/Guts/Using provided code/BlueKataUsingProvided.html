<script>
// We're skipping HTML5 formal setup here. Browsers assume it. Focus is on the JS logic

var canvas; // will refer to the canvas element on the page
var canvasContext; // canvas's graphics buffer and draw operations

var boxSpeed = 5;
var boxGrowthRate = 5;
var boxX = 0;
var boxY = 20;
var boxHeight = 0;
var boxWidth = 30;
const BOX_COLOR = "#00BEEF"


const CANVAS_WIDTH = 800;
const CANVAS_HEIGHT = 600;
const CANVAS_COLOR ="black"
const FRAMES_PER_SECOND = 30;
const MILLISECONDS = 1000;


window.onload = function () { // automatically called after file finishes loading
    canvas = document.createElement("canvas"); // initializes canvas we'll draw to
    document.body.appendChild(canvas); // add the canvas to the page, so we see it
    
    // sets up size of the canvas:
    canvas.width = CANVAS_WIDTH;
    canvas.height = CANVAS_HEIGHT;

    canvasContext = canvas.getContext("2d"); // grabbing this to call draw operations on

    setInterval(frameUpdate, MILLISECONDS / FRAMES_PER_SECOND); // call frameUpdate 30 times per 1000 ms
}

function frameUpdate() {
    moveCode();
    drawCode();
}

function drawRectangle(topX, topY, rectWidth, rectHeight, rectColor){
    canvasContext.fillStyle = rectColor;
    canvasContext.fillRect(topX, topY, rectWidth, rectHeight);
}

function drawCode(){
    drawRectangle(0,0,canvas.width,canvas.height,CANVAS_COLOR);
    drawRectangle(boxX,boxY,boxWidth,boxHeight,BOX_COLOR);
}

function moveCode(){
    boxX += boxSpeed;
    boxHeight += boxGrowthRate;

    if(boxX + boxWidth == canvas.width || boxX == 0){
        boxSpeed = -boxSpeed;
    }

    if (boxHeight == canvas.height || boxHeight == 0){
        boxGrowthRate = -boxGrowthRate;
    }
}
</script>